import{r as l}from"./react.83df5ab8.js";import{u as P,c as w,L as O,a as I,b as y,e as T,d as j,f as z,g as E,w as S}from"./@react-leaflet.5ff023e0.js";import{l as m}from"./leaflet.755cada6.js";import{j as C}from"./@engagespot.fc0858fe.js";import"./react-dom.50fcfdcb.js";function k(){return P().map}function R({bounds:u,boundsOptions:n,center:e,children:a,className:i,id:g,placeholder:t,style:p,whenReady:s,zoom:r,...c},L){const[x]=l.exports.useState({className:i,id:g,style:p}),[o,b]=l.exports.useState(null);l.exports.useImperativeHandle(L,()=>{var f;return(f=o==null?void 0:o.map)!=null?f:null},[o]);const v=l.exports.useCallback(f=>{if(f!==null&&o===null){const d=new m.exports.Map(f,c);e!=null&&r!=null?d.setView(e,r):u!=null&&d.fitBounds(u,n),s!=null&&d.whenReady(s),b(w(d))}},[]);l.exports.useEffect(()=>()=>{o==null||o.map.remove()},[o]);const M=o?C(O,{value:o,children:a}):t!=null?t:null;return C("div",{...x,ref:v,children:M})}const q=l.exports.forwardRef(R),A=I(function({position:n,...e},a){const i=new m.exports.Marker(n,e);return y(i,T(a,{overlayContainer:i}))},function(n,e,a){e.position!==a.position&&n.setLatLng(e.position),e.icon!=null&&e.icon!==a.icon&&n.setIcon(e.icon),e.zIndexOffset!=null&&e.zIndexOffset!==a.zIndexOffset&&n.setZIndexOffset(e.zIndexOffset),e.opacity!=null&&e.opacity!==a.opacity&&n.setOpacity(e.opacity),n.dragging!=null&&e.draggable!==a.draggable&&(e.draggable===!0?n.dragging.enable():n.dragging.disable())}),D=j(function(n,e){const a=new m.exports.Popup(n,e.overlayContainer);return y(a,e)},function(n,e,{position:a},i){l.exports.useEffect(function(){const{instance:t}=n;function p(r){r.popup===t&&(t.update(),i(!0))}function s(r){r.popup===t&&i(!1)}return e.map.on({popupopen:p,popupclose:s}),e.overlayContainer==null?(a!=null&&t.setLatLng(a),t.openOn(e.map)):e.overlayContainer.bindPopup(t),function(){var c;e.map.off({popupopen:p,popupclose:s}),(c=e.overlayContainer)==null||c.unbindPopup(),e.map.removeLayer(t)}},[n,e,i,a])}),F=z(function({url:n,...e},a){const i=new m.exports.TileLayer(n,S(e,a));return y(i,a)},E);export{q as M,D as P,F as T,A as a,k as u};
